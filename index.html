<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ROBLOX LITE & HACK LITE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #000000;
            --nav-bg: #f8f9fa;
            --card-bg: #ffffff;
            --shadow: rgba(0, 0, 0, 0.1);
            --primary: #000000;
            --secondary: #333333;
            --accent: #555555;
            --light: #f1f1f1;
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #ffffff;
            --nav-bg: #1e1e1e;
            --card-bg: #1e1e1e;
            --shadow: rgba(255, 255, 255, 0.1);
            --primary: #ffffff;
            --secondary: #cccccc;
            --accent: #aaaaaa;
            --light: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: var(--transition);
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            touch-action: manipulation;
            overscroll-behavior: none;
            height: 100%;
            width: 100%;
        }

        body {
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            transition: var(--transition);
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
            display: flex;
            flex-direction: column;
            line-height: 1.6;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 85px;
            padding-top: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 20px var(--shadow);
            min-height: 120px;
        }

        .header-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        h1 {
            color: white;
            margin-bottom: 5px;
            font-size: 2rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header-subtitle {
            color: rgba(255,255,255,0.9);
            font-size: 1rem;
            margin-bottom: 15px;
        }

        .kitty-header-left {
            position: absolute;
            left: 20px;
            bottom: -10px;
            width: 100px;
            height: auto;
            z-index: 1;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        .kitty-header-right {
            position: absolute;
            right: 20px;
            top: -10px;
            width: 80px;
            height: auto;
            z-index: 1;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        .content-section {
            display: none;
            padding: 25px;
            border-radius: 20px;
            background: var(--card-bg);
            box-shadow: 0 10px 20px var(--shadow);
            margin-bottom: 25px;
            animation: slideUp 0.5s ease forwards;
            text-align: center;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .active {
            display: block;
        }

        /* Floating Navigation - Updated */
        .floating-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--nav-bg);
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-around;
            padding: 12px;
            z-index: 1000;
            height: 70px;
            border-radius: 0;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transform: translateZ(0);
            border-top: 1px solid var(--light);
        }

        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 0.75rem;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 20px;
            transition: var(--transition);
            width: 80px;
            height: 50px;
            justify-content: center;
        }

        .nav-btn.active-nav {
            background: var(--light);
            color: var(--primary);
            transform: translateY(-5px);
        }

        .nav-btn:hover {
            background: var(--light);
            color: var(--primary);
        }

        .nav-btn i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .search-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .search-btn:hover {
            background: var(--primary);
            transform: translateY(-3px) rotate(10deg);
        }

        .search-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            box-shadow: 0 5px 15px var(--shadow);
            z-index: 2000;
            padding: 15px;
            display: none;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .search-container.active {
            display: flex;
            transform: translateY(0);
        }

        .search-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid var(--secondary);
            border-radius: 10px;
            background: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .close-search {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 24px;
            cursor: pointer;
            margin-left: 15px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .close-search:hover {
            background: var(--light);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            box-shadow: 0 5px 15px var(--shadow);
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 2001;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 15px;
            border-bottom: 1px solid var(--light);
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-color);
        }

        .search-result-item:hover {
            background: var(--secondary);
            color: white;
        }

        .search-result-item.highlighted {
            background: var(--primary);
            color: white;
        }

        /* Game Grid - Updated for 4 columns */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 15px var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid var(--light);
            position: relative;
        }

        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 25px var(--shadow);
        }

        .game-img {
            width: 100%;
            height: 110px;
            object-fit: cover;
        }

        .game-info {
            padding: 15px;
        }

        .game-title {
            font-size: 0.95rem;
            margin-bottom: 10px;
            color: var(--text-color);
            text-align: center;
            font-weight: 600;
        }

        .download-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: var(--primary);
            color: white;
            text-align: center;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: var(--transition);
            font-size: 0.85rem;
            border: none;
            cursor: pointer;
            position: relative;
        }

        .download-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .upload-time {
            font-size: 0.7rem;
            color: var(--text-color);
            opacity: 0.7;
            text-align: center;
            margin-top: 8px;
            padding: 3px;
            background: rgba(0,0,0,0.05);
            border-radius: 5px;
        }

        .dark-mode .upload-time {
            background: rgba(255,255,255,0.1);
        }

        .group-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 20px var(--shadow);
            max-width: 450px;
            margin: 0 auto;
            text-align: center;
        }

        .group-img {
            width: 100%;
            max-width: 320px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .group-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--text-color);
            font-weight: 700;
        }

        .group-card p {
            margin-bottom: 20px;
            color: var(--text-color);
            opacity: 0.8;
        }

        .join-btn {
            padding: 12px 30px;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: var(--transition);
            text-align: center;
            display: inline-block;
        }

        .join-btn:hover {
            background: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .creators {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin-top: 25px;
        }

        .creator-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 10px 20px var(--shadow);
            width: 170px;
            position: relative;
            transition: transform 0.3s;
        }

        .creator-card:hover {
            transform: translateY(-5px);
        }

        .creator-img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid var(--primary);
            box-shadow: 0 5px 15px var(--shadow);
        }

        .creator-name {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: var(--text-color);
            font-weight: 600;
        }

        .creator-card p {
            color: var(--text-color);
            opacity: 0.7;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 15px;
        }

        .social-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            text-decoration: none;
            transition: var(--transition);
            font-size: 1rem;
        }

        .social-btn:hover {
            transform: scale(1.1);
            background: var(--accent);
        }

        #ticker-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            color: white;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 2000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            animation: slideDown 0.5s ease forwards;
            transition: transform 0.3s ease;
            height: 40px;
        }

        #ticker-banner.hidden {
            transform: translateY(-100%);
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .ticker-content {
            overflow: hidden;
            white-space: nowrap;
            flex-grow: 1;
            position: relative;
        }

        .ticker-content span {
            display: inline-block;
            padding-left: 100%;
            animation: ticker 15s linear infinite;
            font-size: 0.85rem;
            font-weight: 500;
        }

        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        #close-ticker {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 0 10px;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
        }

        #close-ticker:hover {
            opacity: 0.7;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }

        .cre {
            text-align: center;
            margin-bottom: 25px;
            font-style: italic;
            color: var(--secondary);
            font-size: 1rem;
            font-weight: 500;
        }

        section h2 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
            position: relative;
            padding-bottom: 10px;
        }

        section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--accent);
            border-radius: 3px;
        }

        .dev-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }

        .dev-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 3000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
        }

        .modal-title {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 700;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--secondary);
            border-radius: 10px;
            background: var(--card-bg);
            color: var(--text-color);
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: var(--transition);
        }

        .btn-primary:hover {
            background: var(--accent);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .checkbox-group input {
            margin-right: 10px;
        }

        .checkbox-group label {
            color: var(--text-color);
        }

        .image-preview {
            width: 100%;
            max-height: 200px;
            object-fit: contain;
            margin-top: 10px;
            border-radius: 10px;
            display: none;
        }

        .json-output {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            display: none;
            max-height: 200px;
            overflow-y: auto;
            color: var(--text-color);
        }

        .copy-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
            display: none;
            width: 100%;
        }

        .copy-btn:hover {
            background: var(--primary);
        }

        .full-json {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 300px;
            overflow-y: auto;
            text-align: left;
            color: var(--text-color);
        }

        /* Animation control styles */
        .no-animations * {
            animation: none !important;
            transition: none !important;
        }

        .no-animations #ticker-banner {
            display: none !important;
        }

        .animation-toggle-btn {
            display: block;
            margin: 15px auto;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            width: 200px;
        }

        .animation-toggle-btn:hover {
            background: var(--accent);
        }

        .json-load-btn {
            display: block;
            margin: 15px auto;
            padding: 10px 20px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            width: 200px;
        }

        .json-load-btn:hover {
            background: #2e7d32;
        }

        /* Music player styles */
        .music-player-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            margin: 25px auto;
            box-shadow: 0 10px 20px var(--shadow);
            max-width: 500px;
        }

        .music-player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            position: relative;
        }

        .music-player-title {
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 600;
        }

        .music-toggle-btn {
            padding: 8px 15px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }

        .music-toggle-btn:hover {
            background: var(--accent);
        }

        .music-player {
            display: none;
            text-align: left;
            padding: 15px;
        }

        .music-player.active {
            display: block;
            animation: slideUp 0.5s ease forwards;
        }

        .now-playing {
            margin-bottom: 15px;
            font-size: 0.9rem;
            display: none;
            color: var(--text-color);
        }

        .now-playing span {
            font-weight: 600;
            color: var(--primary);
        }

        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .control-btn:hover {
            background: var(--accent);
            transform: scale(1.1);
        }

        .play-pause-btn {
            width: 50px;
            height: 50px;
            background: var(--accent);
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: var(--light);
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .progress {
            height: 100%;
            background: var(--primary);
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s linear;
        }

        .time-container {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .playlist {
            margin-top: 20px;
        }

        .playlist-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 8px;
            background: var(--light);
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-color);
        }

        .playlist-item:hover {
            background: var(--secondary);
            transform: translateX(5px);
        }

        .playlist-item.active {
            background: var(--primary);
            color: white;
        }

        .playlist-item-index {
            margin-right: 10px;
            font-weight: bold;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
        }

        .playlist-item-title {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            display: none;
        }

        .volume-slider {
            flex: 1;
            -webkit-appearance: none;
            height: 5px;
            background: var(--light);
            border-radius: 5px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }

        /* Download Options Styles */
        .download-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .download-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background: var(--light);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .download-option:hover {
            background: var(--secondary);
            transform: translateX(5px);
        }

        .download-option i {
            font-size: 24px;
            margin-right: 15px;
            color: var(--primary);
        }

        .download-option-content {
            flex: 1;
        }

        .download-option-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-color);
        }

        .download-option-desc {
            font-size: 0.8rem;
            opacity: 0.7;
            color: var(--text-color);
        }

        /* Theme toggle moved down */
        .theme-toggle-bottom {
            position: fixed;
            bottom: 90px;
            right: 20px;
            z-index: 999;
        }

        .theme-toggle-bottom .toggle-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            background: var(--primary);
        }

        .theme-toggle-bottom .toggle-btn i {
            margin-right: 0;
            font-size: 1.2rem;
        }

        /* Highlight effect for searched game */
        .game-card.highlighted {
            animation: highlightPulse 2s infinite;
            box-shadow: 0 0 20px var(--accent);
            border: 2px solid var(--accent);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 10px var(--accent); }
            50% { box-shadow: 0 0 20px var(--accent); }
            100% { box-shadow: 0 0 10px var(--accent); }
        }

        /* Random Games Section */
        .random-games-section {
            margin-bottom: 30px;
        }

        .random-games-title {
            text-align: center;
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .random-games-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        /* Delete button for games */
        .delete-game-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 25px;
            height: 25px;
            background: rgba(255, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .game-card:hover .delete-game-btn {
            opacity: 1;
        }

        .delete-game-btn:hover {
            background: rgba(255, 0, 0, 1);
        }

        /* GitHub API Status */
        .github-status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            text-align: center;
            display: none;
        }

        .github-status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .github-status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 1024px) {
            .game-grid, .random-games-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .game-grid, .random-games-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .creators {
                flex-direction: column;
                align-items: center;
            }
            
            header {
                flex-direction: column;
                text-align: center;
                padding: 15px;
            }
            
            h1 {
                font-size: 1.6rem;
            }
            
            .container {
                padding: 15px;
                padding-bottom: 85px;
            }
            
            .content-section {
                padding: 20px;
            }

            .kitty-header-left {
                width: 80px;
                left: 10px;
            }

            .kitty-header-right {
                width: 65px;
                right: 10px;
            }

            .floating-nav {
                width: 100%;
                height: 65px;
                padding: 10px;
                bottom: 0;
            }

            .nav-btn {
                width: 70px;
                font-size: 0.65rem;
                padding: 6px 10px;
                height: 45px;
            }

            .nav-btn i {
                font-size: 1.1rem;
            }

            .search-btn {
                width: 45px;
                height: 45px;
            }

            #ticker-banner {
                padding: 6px 12px;
                height: 36px;
            }

            .ticker-content span {
                font-size: 0.8rem;
            }

            #close-ticker {
                font-size: 16px;
                width: 26px;
                height: 26px;
            }

            .modal-content {
                padding: 20px;
            }

            .modal-title {
                font-size: 1.3rem;
            }

            .theme-toggle-bottom {
                bottom: 80px;
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            .game-grid, .random-games-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 1.4rem;
            }

            .kitty-header-left {
                width: 60px;
            }

            .kitty-header-right {
                width: 50px;
            }

            .floating-nav {
                height: 60px;
            }

            .nav-btn {
                width: 60px;
                font-size: 0.6rem;
                padding: 5px 8px;
                height: 40px;
            }

            .nav-btn i {
                font-size: 1rem;
            }

            .search-btn {
                width: 40px;
                height: 40px;
            }

            section h2 {
                font-size: 1.5rem;
            }

            #ticker-banner {
                padding: 5px 10px;
                height: 34px;
            }

            .ticker-content span {
                font-size: 0.75rem;
            }

            #close-ticker {
                font-size: 14px;
                width: 24px;
                height: 24px;
            }

            .modal-title {
                font-size: 1.2rem;
            }

            .theme-toggle-bottom {
                bottom: 75px;
                right: 10px;
            }

            .theme-toggle-bottom .toggle-btn {
                width: 45px;
                height: 45px;
            }
        }

        @supports (padding: max(0px)) {
            .floating-nav {
                padding-bottom: max(10px, env(safe-area-inset-bottom));
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent);
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.2rem;
            color: var(--secondary);
            flex-direction: column;
        }

        .loading i {
            margin-bottom: 15px;
            animation: spin 1s linear infinite;
            font-size: 2rem;
            color: var(--primary);
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .kitty-header-left {
            animation: float 4s ease-in-out infinite;
        }

        .kitty-header-right {
            animation: float 4s ease-in-out infinite;
            animation-delay: 0.5s;
        }

        .theme-btn {
            display: block;
            margin: 15px auto;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            width: 200px;
        }

        .theme-btn:hover {
            background: var(--accent);
        }
    </style>
</head>
<body>
    <div id="ticker-banner">
        <div class="ticker-content">
            <span>🎮 ROBLOX LITE - Tối ưu,cre chilinhRBL,tuann_FL,DatMCR🎮</span>
        </div>
        <button id="close-ticker">&times;</button>
    </div>

    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('passwordModal')">&times;</button>
            <h2 class="modal-title">Nhập mật khẩu</h2>
            <div class="form-group">
                <label for="password">Mật khẩu:</label>
                <input type="password" id="password" class="form-control" placeholder="Nhập mật khẩu">
            </div>
            <div class="checkbox-group">
                <input type="checkbox" id="rememberPassword">
                <label for="rememberPassword">Ghi nhớ mật khẩu</label>
            </div>
            <button class="btn-primary" onclick="checkPassword()">Xác nhận</button>
            <p id="passwordError" style="color: red; margin-top: 10px; display: none;">Mật khẩu không đúng!</p>
        </div>
    </div>

    <div id="addGameModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('addGameModal')">&times;</button>
            <h2 class="modal-title">Quản lý Game</h2>
            
            <div id="githubStatus" class="github-status"></div>
            
            <div class="form-group">
                <label for="gameName">Tên game:</label>
                <input type="text" id="gameName" class="form-control" placeholder="Nhập tên game">
            </div>
            <div class="form-group">
                <label for="imageType">Chọn cách thêm ảnh:</label>
                <select id="imageType" class="form-control" onchange="toggleImageInput()">
                    <option value="url">URL ảnh</option>
                    <option value="upload">Tải ảnh lên</option>
                </select>
            </div>
            <div class="form-group" id="urlInput">
                <label for="imageUrl">URL ảnh:</label>
                <input type="text" id="imageUrl" class="form-control" placeholder="https://example.com/image.jpg">
            </div>
            <div class="form-group" id="uploadInput" style="display: none;">
                <label for="imageUpload">Tải ảnh lên:</label>
                <input type="file" id="imageUpload" class="form-control" accept="image/*">
                <img id="imagePreview" class="image-preview" alt="Xem trước ảnh">
            </div>
            <div class="form-group">
                <label for="downloadUrl">Link download:</label>
                <input type="text" id="downloadUrl" class="form-control" placeholder="https://example.com/download">
            </div>
            <div class="form-group">
                <label for="gameDate">Ngày thêm:</label>
                <input type="date" id="gameDate" class="form-control">
            </div>
            <button class="btn-primary" onclick="addGame()">Thêm Game</button>
            
            <h3 style="margin-top: 30px;">Danh sách Game hiện tại</h3>
            <div class="full-json" id="fullJsonOutput">Đang tải dữ liệu...</div>
            <button class="btn-primary" style="margin-top: 10px; background-color: #ff4d4d;" onclick="clearAllGames()">Xóa tất cả game</button>
            <button class="btn-primary" style="margin-top: 10px; background-color: #fd79a8;" onclick="importGames()">Import từ JSON</button>
            <textarea id="importJson" class="form-control" placeholder="Dán nội dung JSON vào đây" style="margin-top: 10px; display: none; height: 100px;"></textarea>
            
            <h3 style="margin-top: 30px;">Quản lý từng game</h3>
            <div id="gameList" style="margin-top: 15px;">
                <!-- Danh sách game với nút xóa sẽ được thêm ở đây -->
            </div>
        </div>
    </div>

    <!-- Download Options Modal -->
    <div id="downloadModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('downloadModal')">&times;</button>
            <h2 class="modal-title">Chọn phương thức tải xuống</h2>
            <div class="download-options">
                <div class="download-option" onclick="openInChrome()">
                    <i class="fab fa-chrome"></i>
                    <div class="download-option-content">
                        <div class="download-option-title">Mở trong Chrome</div>
                        <div class="download-option-desc">Tải xuống qua trình duyệt Chrome</div>
                    </div>
                </div>
                <div class="download-option" onclick="openInBrowser()">
                    <i class="fas fa-globe"></i>
                    <div class="download-option-content">
                        <div class="download-option-title">Mở trong trình duyệt</div>
                        <div class="download-option-desc">Tải xuống qua trình duyệt mặc định</div>
                    </div>
                </div>
                <div class="download-option" onclick="openInGoogleApp()">
                    <i class="fab fa-google"></i>
                    <div class="download-option-content">
                        <div class="download-option-title">Mở trong ứng dụng Google</div>
                        <div class="download-option-desc">Tải xuống qua ứng dụng Google</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Container -->
    <div class="search-container" id="searchContainer">
        <input type="text" class="search-input" id="searchInput" placeholder="Tìm kiếm game...">
        <button class="close-search" id="closeSearch">&times;</button>
        <div class="search-results" id="searchResults"></div>
    </div>

    <div class="container">
        <header>
            <img src="https://i.imgur.com/Z57QCYN.png" class="kitty-header-left" alt="Hello Kitty">
            <img src="https://i.imgur.com/Pu7OL6P.png" class="kitty-header-right" alt="Hello Kitty Bow">
            
            <div class="header-content">
                <h1>ROBLOX LITE Và Game</h1>
                <div class="header-subtitle">tối ưu & fix lag</div>
            </div>
        </header>

        <main>
            <section id="lienket" class="content-section active">
                <h2>ROBLOX LITE & FIX LAG</h2>
                
                <!-- Random Games Section -->
                <div class="random-games-section" id="randomGamesSection" style="display: none;">
                    <h3 class="random-games-title">Game Ngẫu Nhiên</h3>
                    <div class="random-games-grid" id="random-games-container">
                        <!-- 4 random games will be loaded here -->
                    </div>
                </div>
                
                <!-- Main Games Grid -->
                <div class="game-grid" id="game-container">
                    <div class="loading">
                        <i class="fas fa-gamepad"></i>
                        <span>Đang tải game...</span>
                    </div>
                </div>
            </section>

            <section id="group" class="content-section">
                <h2>NHÓM GROUP</h2>
                <div class="group-card">
                    <img src="https://ava-grp-talk.zadn.vn/b/9/d/e/26/360/9200b3ce08e03a9efef7b4bc6d5ba5d6.jpg" alt="Zalo Group" class="group-img">
                    <h3 class="group-title">Nhóm Giao Lưu Game</h3>
                    <p>Luật!!!
Cấm chat 18+ với bot!
Cấm mấy tg vô phá , không được mời khôi và trường
Nếu như mời 2 bọn nó kick luôn 3 tg ><
Cấm spam
Đổi avt xàm kick 1 ngày đổi avt 18+ kick vv
Cấm TV lấy link nhóm khác gửi vào nhóm
Không được vô giao lưu v1 phát hiện kick vv nếu out đc phép vô lại .
-Cấm ae nào lấy link ugphone hoặc scitp bên giao lưu v1 hoặc link tg trĩ với turbo vô vào nhóm.
Không đc nói nặng nề key vàng và key bạc 
-Cấm ae nào lấy STICKER  của người khác khi ngkh chx đồng ý 
Không đc quyền gửi danh thiếp của ngkh vô nhóm khác khi kh xin phép 
                        🔥Ko tuân thủ quy tắc 🔥
                              Nhắc lần 1 ( 1 ngày)
                              Nhắc lần 2 ( 5 ngày)
                              Nhắc lần 3 ( kick vv)
Luật key bạc 
-key bạc kh quyền đổi avatar khi chx xin phép 
-Không đc quyền kick bậy nếu thành viên ko war  đc quyền kick khi thành viên phản .. hoặc war nhau thì nhắc nhở 
-kh đc quyền chửi người khác khi họ chx làm j</p>
                    <a href="https://zalo.me/g/gxnivk802" class="join-btn" target="_blank">Tham Gia</a>
                </div>
            </section>

            <section id="home" class="content-section">
                <h2>THÔNG TIN NHÀ PHÁT TRIỂN WEB</h2>
                <p class="cre">Cre: Tuan_FL vàChiLinhRBL and DatMCR</p>
                
                <button class="dev-btn" onclick="openPasswordModal()">
                    <i class="fas fa-code"></i> Phát triển
                </button>
                
                <!-- Nút chuyển đổi chế độ sáng/tối -->
                <button class="theme-btn" id="theme-toggle-home">
                    <i class="fas fa-moon"></i> Bật chế độ tối
                </button>
                
                <!-- Nút tắt hoạt ảnh -->
                <button class="animation-toggle-btn" id="animationToggleBtn">
                    <i class="fas fa-running"></i> Tắt hoạt ảnh
                </button>

                <!-- Trình phát nhạc MP3 -->
                <div class="music-player-container">
                    <div class="music-player-header">
                        <div class="music-player-title">Trình Phát Nhạc</div>
                        <button class="music-toggle-btn" id="musicToggleBtn">
                            <i class="fas fa-music"></i> Hiện trình phát nhạc
                        </button>
                    </div>
                    
                    <div class="music-player" id="musicPlayer">
                        <div class="now-playing">Đang phát: <span id="currentSong">Chưa có bài hát</span></div>
                        
                        <div class="player-controls">
                            <button class="control-btn" onclick="playPrevious()">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="control-btn play-pause-btn" id="playPauseBtn">
                                <i class="fas fa-play" id="playPauseIcon"></i>
                            </button>
                            <button class="control-btn" onclick="playNext()">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        
                        <div class="progress-container" id="progressContainer">
                            <div class="progress" id="progress"></div>
                        </div>
                        
                        <div class="time-container">
                            <span id="currentTime">0:00</span>
                            <span id="duration">0:00</span>
                        </div>
                        
                        <div class="volume-container">
                            <i class="fas fa-volume-up"></i>
                            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.01" value="1">
                            <i class="fas fa-volume-down"></i>
                        </div>
                        
                        <div class="playlist">
                            <h4>Playlist</h4>
                            <div id="playlistContainer">
                                <!-- Playlist items will be added here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="creators">
                    <div class="creator-card">
                        <img src="https://yt3.googleusercontent.com/i26866VEeQTwyaOAnpcfQgBw8rFulIb_sm1AHJRFo_vaPPB5U8-EQBg8f2JgGE-LYyn_yTXi=s160-c-k-c0x00ffffff-no-rj" alt="Creator 1" class="creator-img">
                        <h3 class="creator-name">Tuan_FL</h3>
                        <p>Nhà phát triển & admin</p>
                        <div class="social-links">
                            <a href="https://www.youtube.com/@Tuan_FL" class="social-btn" target="_blank">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="https://www.tiktok.com/@tuann2k11" class="social-btn" target="_blank">
                                <i class="fab fa-tiktok"></i>
                            </a>
                        </div>
                    </div>
                    <div class="creator-card">
                        <img src="https://lh4.googleusercontent.com/NHuq2pShyA4FPfAM6e1CAbdUR8NRSs33mVWSvEnBcjFvHslZ25EOFBhdd2Ypt4MtGgpdYB8pqtwbO8LPlKoWO-Y" alt="Creator 2" class="creator-img">
                        <h3 class="creator-name">Linh_roblox</h3>
                        <p>Nhà phát triển & Admin</p>
                        <div class="social-links">
                            <a href="https://youtube.com/@linhrblxshots?si=-0mguuybdkHMf8JO" class="social-btn" target="_blank">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="https://www.tiktok.com/@acesaboyanticali?_t=ZS-8zpo71DKy5H&_r=1" class="social-btn" target="_blank">
                                <i class="fab fa-tiktok"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Floating Navigation -->
    <nav class="floating-nav">
        <button class="nav-btn active-nav" onclick="showSection('lienket')">
            <i class="fas fa-gamepad"></i>
            <span>Liên Kết</span>
        </button>
        <button class="nav-btn" onclick="showSection('group')">
            <i class="fas fa-users"></i>
            <span>Nhóm</span>
        </button>
        <button class="search-btn" id="searchBtn">
            <i class="fas fa-search"></i>
        </button>
        <button class="nav-btn" onclick="showSection('home')">
            <i class="fas fa-info-circle"></i>
            <span>Home</span>
        </button>
    </nav>

    <script>
        // Biến toàn cục lưu trữ danh sách game
        let allGames = [];
        let currentDownloadUrl = '';
        let currentHighlightedGame = null;
        let randomGamesInterval = null;
        let currentFileSHA = null;
        
        // Cấu hình GitHub API
        const GITHUB_OWNER = 'TuanFL211';
        const GITHUB_REPO = 'roblox';
        const GITHUB_FILE_PATH = 'games.json';
        const GITHUB_API_URL = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/${GITHUB_FILE_PATH}`;
        const GITHUB_TOKEN = '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'; // Thay thế bằng token thực tế

        // Biến cho trình phát nhạc
        let audioPlayer = new Audio();
        let currentSongIndex = 0;
        let isPlaying = false;
        let songs = [
            {
                "title": "Giấc Mơ Tình Cờ",
                "src": "https://github.com/TuanFL211/roblox/blob/main/giacmotinhco.mp3?raw=true"
            },
            {
                "title": "Hướng Dương",
                "src": "https://github.com/TuanFL211/roblox/blob/main/huongduong.mp3?raw=true"
            },
            {
                "title": "Ngất Ngây",
                "src": "https://github.com/TuanFL211/roblox/blob/main/ngatngay.mp3?raw=true"
            },
            {
                "title": "Cause I Love You",
                "src": "https://github.com/TuanFL211/roblox/blob/main/causeiloveyou.mp3?raw=true"
            },
            {
                "title": "đường tôi chở em về",
                "src": "https://github.com/TuanFL211/roblox/blob/main/duongchoemve.mp3?raw=true"
            }
        ]; // Playlist mặc định

        // Hàm hiển thị trạng thái GitHub API
        function showGitHubStatus(message, isError = false) {
            const statusElement = document.getElementById('githubStatus');
            statusElement.textContent = message;
            statusElement.className = `github-status ${isError ? 'error' : 'success'}`;
            statusElement.style.display = 'block';
            
            // Tự động ẩn sau 5 giây
            setTimeout(() => {
                statusElement.style.display = 'none';
            }, 5000);
        }

        // Hàm tải dữ liệu từ GitHub API
        async function loadGamesFromGitHub() {
            try {
                const response = await fetch(GITHUB_API_URL, {
                    headers: {
                        'Authorization': `token ${GITHUB_TOKEN}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`GitHub API error: ${response.status}`);
                }
                
                const data = await response.json();
                const content = data.content;
                currentFileSHA = data.sha; // Lưu SHA để cập nhật file sau này
                const decodedContent = atob(content); // Giải mã base64
                const games = JSON.parse(decodedContent);
                
                if (Array.isArray(games)) {
                    allGames = games;
                    loadGames();
                    updateRandomGames();
                    updateGameList();
                    console.log('Đã tải dữ liệu game từ GitHub:', allGames.length, 'game');
                } else {
                    throw new Error('Dữ liệu JSON không hợp lệ');
                }
            } catch (error) {
                console.error('Lỗi khi tải game từ GitHub:', error);
                showGitHubStatus('Lỗi khi tải dữ liệu từ GitHub: ' + error.message, true);
                // Nếu có lỗi, thử tải từ localStorage
                loadGamesFromLocalStorage();
            }
        }

        // Hàm tải game từ localStorage (fallback)
        function loadGamesFromLocalStorage() {
            const storedGames = localStorage.getItem('gamesData');
            
            if (storedGames) {
                try {
                    allGames = JSON.parse(storedGames);
                    loadGames();
                    updateRandomGames();
                    updateGameList();
                    console.log('Đã tải dữ liệu game từ localStorage:', allGames.length, 'game');
                } catch (error) {
                    console.error('Lỗi khi parse dữ liệu từ localStorage:', error);
                    showError('Không thể tải dữ liệu game. Vui lòng thử lại sau.');
                }
            } else {
                showError('Không có dữ liệu game. Vui lòng liên hệ quản trị viên.');
            }
        }

        // Hàm cập nhật dữ liệu lên GitHub
        async function updateGamesToGitHub() {
            try {
                const content = JSON.stringify(allGames, null, 2);
                const encodedContent = btoa(unescape(encodeURIComponent(content)));
                
                const response = await fetch(GITHUB_API_URL, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${GITHUB_TOKEN}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: `Cập nhật danh sách game - ${new Date().toLocaleString()}`,
                        content: encodedContent,
                        sha: currentFileSHA
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`GitHub API error: ${response.status}`);
                }
                
                const data = await response.json();
                currentFileSHA = data.content.sha; // Cập nhật SHA mới
                
                showGitHubStatus('Đã cập nhật dữ liệu lên GitHub thành công!');
                return true;
            } catch (error) {
                console.error('Lỗi khi cập nhật game lên GitHub:', error);
                showGitHubStatus('Lỗi khi cập nhật dữ liệu lên GitHub: ' + error.message, true);
                return false;
            }
        }

        function showError(message) {
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="loading">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>${message}</span>
                </div>
            `;
        }

        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            setTimeout(() => {
                document.getElementById(sectionId).classList.add('active');
            }, 50);
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active-nav');
            });
            
            // Tìm nút tương ứng với section và kích hoạt nó
            const navButtons = document.querySelectorAll('.nav-btn');
            for (let btn of navButtons) {
                if (btn.querySelector('span').textContent.toLowerCase() === 
                    (sectionId === 'lienket' ? 'liên kết' : 
                     sectionId === 'group' ? 'nhóm' : 'home')) {
                    btn.classList.add('active-nav');
                    break;
                }
            }
            
            document.querySelector('.container').scrollTo(0, 0);
        }

        function setupThemeToggle() {
            const themeToggleHome = document.getElementById('theme-toggle-home');
            if (themeToggleHome) {
                themeToggleHome.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    if (document.body.classList.contains('dark-mode')) {
                        themeToggleHome.innerHTML = '<i class="fas fa-sun"></i> Bật chế độ sáng';
                        localStorage.setItem('theme', 'dark');
                    } else {
                        themeToggleHome.innerHTML = '<i class="fas fa-moon"></i> Bật chế độ tối';
                        localStorage.setItem('theme', 'light');
                    }
                });

                if (localStorage.getItem('theme') === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeToggleHome.innerHTML = '<i class="fas fa-sun"></i> Bật chế độ sáng';
                } else {
                    themeToggleHome.innerHTML = '<i class="fas fa-moon"></i> Bật chế độ tối';
                }
            }
        }

        function loadGames() {
            try {
                const gameContainer = document.getElementById('game-container');
                if (gameContainer) {
                    gameContainer.innerHTML = '';
                    
                    if (allGames.length === 0) {
                        gameContainer.innerHTML = `
                            <div class="loading">
                                <i class="fas fa-gamepad"></i>
                                <span>Chưa có game nào. Hãy LH Tuann!</span>
                            </div>
                        `;
                        return;
                    }
                    
                    allGames.forEach((game, index) => {
                        const gameCard = document.createElement('div');
                        gameCard.className = 'game-card';
                        gameCard.id = `game-${index}`;
                        
                        // Format lại ngày tháng cho đẹp
                        let formattedDate = 'Chưa cập nhật';
                        if (game.date) {
                            const dateObj = new Date(game.date);
                            formattedDate = dateObj.toLocaleDateString('vi-VN', {
                                day: '2-digit',
                                month: '2-digit',
                                year: 'numeric'
                            });
                        }
                        
                        gameCard.innerHTML = `
                            <button class="delete-game-btn" onclick="deleteGame(${index})" title="Xóa game">
                                <i class="fas fa-times"></i>
                            </button>
                            <img src="${game.image}" alt="${game.name}" class="game-img" onerror="this.src='https://via.placeholder.com/150x100?text=Ảnh+lỗi'">
                            <div class="game-info">
                                <h3 class="game-title">${game.name}</h3>
                                <button class="download-btn" onclick="showDownloadOptions('${game.download.replace(/'/g, "\\'")}')">Tải Game</button>
                                <div class="upload-time">Cập nhật: ${formattedDate}</div>
                            </div>
                        `;
                        gameContainer.appendChild(gameCard);
                    });
                }
            } catch (error) {
                console.error('Lỗi khi tải game:', error);
                const gameContainer = document.getElementById('game-container');
                if (gameContainer) {
                    gameContainer.innerHTML = `
                        <p class="loading">Không thể tải dan sách game. Vui lòng thử lại sau.</p>
                    `;
                }
            }
        }

        // Hàm cập nhật danh sách game trong modal quản lý
        function updateGameList() {
            const gameListElement = document.getElementById('gameList');
            gameListElement.innerHTML = '';
            
            if (allGames.length === 0) {
                gameListElement.innerHTML = '<p>Chưa có game nào.</p>';
                return;
            }
            
            allGames.forEach((game, index) => {
                const gameItem = document.createElement('div');
                gameItem.className = 'game-item';
                gameItem.style.display = 'flex';
                gameItem.style.justifyContent = 'space-between';
                gameItem.style.alignItems = 'center';
                gameItem.style.padding = '10px';
                gameItem.style.marginBottom = '10px';
                gameItem.style.background = 'var(--light)';
                gameItem.style.borderRadius = '10px';
                
                gameItem.innerHTML = `
                    <div>
                        <strong>${game.name}</strong>
                        <div style="font-size: 0.8rem; color: var(--secondary);">${game.date || 'Chưa có ngày'}</div>
                    </div>
                    <button class="btn-primary" style="background: #ff4d4d; padding: 5px 10px;" onclick="deleteGame(${index})">
                        <i class="fas fa-trash"></i> Xóa
                    </button>
                `;
                
                gameListElement.appendChild(gameItem);
            });
            
            // Cập nhật JSON output
            updateFullJsonOutput();
        }

        // Hàm xóa game
        async function deleteGame(index) {
            if (confirm(`Bạn có chắc chắn muốn xóa game "${allGames[index].name}"?`)) {
                allGames.splice(index, 1);
                
                // Cập nhật lên GitHub
                const success = await updateGamesToGitHub();
                
                if (success) {
                    // Cập nhật giao diện
                    loadGames();
                    updateRandomGames();
                    updateGameList();
                    showGitHubStatus('Đã xóa game thành công!');
                } else {
                    // Nếu lỗi, khôi phục lại dữ liệu
                    loadGamesFromGitHub();
                    alert('Có lỗi xảy ra khi xóa game. Vui lòng thử lại.');
                }
            }
        }

        // Hàm cập nhật game ngẫu nhiên
        function updateRandomGames() {
            const randomGamesContainer = document.getElementById('random-games-container');
            const randomGamesSection = document.getElementById('randomGamesSection');
            
            if (!randomGamesContainer || !randomGamesSection) return;
            
            // Nếu không có game, ẩn section
            if (allGames.length === 0) {
                randomGamesSection.style.display = 'none';
                return;
            }
            
            // Lấy 4 game ngẫu nhiên
            const shuffled = [...allGames].sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 4);
            
            // Tạo HTML cho game ngẫu nhiên
            randomGamesContainer.innerHTML = '';
            selected.forEach((game, index) => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                
                // Format lại ngày tháng cho đẹp
                let formattedDate = 'Chưa cập nhật';
                if (game.date) {
                    const dateObj = new Date(game.date);
                    formattedDate = dateObj.toLocaleDateString('vi-VN', {
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric'
                    });
                }
                
                gameCard.innerHTML = `
                    <img src="${game.image}" alt="${game.name}" class="game-img" onerror="this.src='https://via.placeholder.com/150x100?text=Ảnh+lỗi'">
                    <div class="game-info">
                        <h3 class="game-title">${game.name}</h3>
                        <button class="download-btn" onclick="showDownloadOptions('${game.download.replace(/'/g, "\\'")}')">Tải Game</button>
                        <div class="upload-time">Cập nhật: ${formattedDate}</div>
                    </div>
                `;
                randomGamesContainer.appendChild(gameCard);
            });
            
            // Hiển thị section
            randomGamesSection.style.display = 'block';
        }

        // Hiển thị modal chọn phương thức tải xuống
        function showDownloadOptions(url) {
            currentDownloadUrl = url;
            document.getElementById('downloadModal').style.display = 'flex';
        }

        // Mở trong Chrome
        function openInChrome() {
            closeModal('downloadModal');
            window.open(currentDownloadUrl, '_blank');
        }

        // Mở trong trình duyệt mặc định
        function openInBrowser() {
            closeModal('downloadModal');
            window.location.href = currentDownloadUrl;
        }

        // Mở trong ứng dụng Google
        function openInGoogleApp() {
            closeModal('downloadModal');
            // Giả lập mở trong ứng dụng Google (nếu có)
            const googleAppUrl = `intent://${currentDownloadUrl.replace(/https?:\/\//, '')}#Intent;package=com.google.android.googlequicksearchbox;end;`;
            window.location.href = googleAppUrl;
            
            // Fallback nếu không mở được ứng dụng Google
            setTimeout(() => {
                window.location.href = currentDownloadUrl;
            }, 500);
        }

        function preventZoom() {
            document.addEventListener('touchstart', function(event) {
                if (event.touches.length > 1) {
                    event.preventDefault();
                }
            }, { passive: false });

            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);

            document.addEventListener('gesturestart', function(event) {
                event.preventDefault();
            });
        }

        function setupTickerBanner() {
            const tickerBanner = document.getElementById('ticker-banner');
            const closeTicker = document.getElementById('close-ticker');
            let tickerManuallyClosed = localStorage.getItem('tickerManuallyClosed') === 'true';
            let autoHideTimeout = null;

            if (tickerBanner && closeTicker) {
                const hideTicker = () => {
                    tickerBanner.classList.add('hidden');
                };

                // Nếu đã đóng thủ công thì ẩn luôn
                if (tickerManuallyClosed) {
                    hideTicker();
                } else {
                    // Tự động ẩn sau 10 giây
                    autoHideTimeout = setTimeout(() => {
                        if (!tickerManuallyClosed) {
                            hideTicker();
                        }
                    }, 10000);
                }
                
                closeTicker.addEventListener('click', () => {
                    tickerManuallyClosed = true;
                    localStorage.setItem('tickerManuallyClosed', 'true');
                    clearTimeout(autoHideTimeout);
                    hideTicker();
                });

                const container = document.querySelector('.container');
                let lastScrollTop = 0;
                
                container.addEventListener('scroll', () => {
                    if (tickerManuallyClosed) return;
                    
                    const scrollTop = container.scrollTop;
                    if (scrollTop > lastScrollTop && scrollTop > 50) {
                        tickerBanner.classList.add('hidden');
                    } else {
                        tickerBanner.classList.remove('hidden');
                    }
                    lastScrollTop = scrollTop;
                });
            }
        }

        function openPasswordModal() {
            document.getElementById('passwordModal').style.display = 'flex';
            
            if (localStorage.getItem('rememberPassword') === 'true' && localStorage.getItem('savedPassword') === '09090909') {
                document.getElementById('password').value = '09090909';
                document.getElementById('rememberPassword').checked = true;
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function checkPassword() {
            const password = document.getElementById('password').value;
            const remember = document.getElementById('rememberPassword').checked;
            const errorElement = document.getElementById('passwordError');
            
            if (password === '09090909') {
                if (remember) {
                    localStorage.setItem('rememberPassword', 'true');
                    localStorage.setItem('savedPassword', password);
                } else {
                    localStorage.removeItem('rememberPassword');
                    localStorage.removeItem('savedPassword');
                }
                
                closeModal('passwordModal');
                document.getElementById('addGameModal').style.display = 'flex';
                
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('gameDate').value = today;
                
                updateFullJsonOutput();
                updateGameList();
            } else {
                errorElement.style.display = 'block';
            }
        }

        function toggleImageInput() {
            const imageType = document.getElementById('imageType').value;
            if (imageType === 'url') {
                document.getElementById('urlInput').style.display = 'block';
                document.getElementById('uploadInput').style.display = 'none';
            } else {
                document.getElementById('urlInput').style.display = 'none';
                document.getElementById('uploadInput').style.display = 'block';
            }
        }

        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('imagePreview').src = e.target.result;
                    document.getElementById('imagePreview').style.display = 'block';
                }
                reader.readAsDataURL(file);
            }
        });

        // Hàm thêm game (sử dụng GitHub API)
        async function addGame() {
            const name = document.getElementById('gameName').value;
            const imageType = document.getElementById('imageType').value;
            let image = '';
            const download = document.getElementById('downloadUrl').value;
            const date = document.getElementById('gameDate').value;
            
            if (!name || !download || !date) {
                alert('Vui lòng điền đầy đủ thông tin!');
                return;
            }
            
            if (imageType === 'url') {
                image = document.getElementById('imageUrl').value;
                if (!image) {
                    alert('Vui lòng nhập URL ảnh!');
                    return;
                }
                await addGameToCollection(name, image, download, date);
            } else {
                const fileInput = document.getElementById('imageUpload');
                if (fileInput.files && fileInput.files[0]) {
                    const file = fileInput.files[0];
                    const reader = new FileReader();
                    reader.onload = async function(e) {
                        image = e.target.result;
                        await addGameToCollection(name, image, download, date);
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('Vui lòng chọn một ảnh!');
                    return;
                }
            }
        }

        async function addGameToCollection(name, image, download, date) {
            const newGame = {
                name: name,
                image: image,
                download: download,
                date: date
            };
            
            allGames.push(newGame);
            
            // Cập nhật lên GitHub
            const success = await updateGamesToGitHub();
            
            if (success) {
                // Cập nhật giao diện
                loadGames();
                updateRandomGames();
                updateGameList();
                
                // Reset form
                document.getElementById('gameName').value = '';
                document.getElementById('imageUrl').value = '';
                document.getElementById('downloadUrl').value = '';
                document.getElementById('imageUpload').value = '';
                document.getElementById('imagePreview').style.display = 'none';
                
                showGitHubStatus('Đã thêm game thành công!');
            } else {
                // Nếu lỗi, khôi phục lại dữ liệu
                allGames.pop();
                alert('Có lỗi xảy ra khi thêm game. Vui lòng thử lại.');
            }
        }

        function updateFullJsonOutput() {
            const jsonString = JSON.stringify(allGames, null, 2);
            document.getElementById('fullJsonOutput').textContent = jsonString;
        }

        // Hàm xóa tất cả game
        async function clearAllGames() {
            if (confirm('Bạn có chắc chắn muốn xóa tất cả game?')) {
                allGames = [];
                
                // Cập nhật lên GitHub
                const success = await updateGamesToGitHub();
                
                if (success) {
                    // Cập nhật giao diện
                    loadGames();
                    updateRandomGames();
                    updateGameList();
                    showGitHubStatus('Đã xóa tất cả game!');
                } else {
                    // Nếu lỗi, khôi phục lại dữ liệu
                    loadGamesFromGitHub();
                    alert('Có lỗi xảy ra khi xóa game. Vui lòng thử lại.');
                }
            }
        }

        // Hàm import game từ JSON
        async function importGames() {
            const importArea = document.getElementById('importJson');
            if (importArea.style.display === 'none') {
                importArea.style.display = 'block';
                return;
            }
            
            const jsonText = importArea.value;
            if (!jsonText) {
                alert('Vui lòng nhập nội dung JSON!');
                return;
            }
            
            try {
                const parsedGames = JSON.parse(jsonText);
                if (Array.isArray(parsedGames)) {
                    allGames = parsedGames;
                    
                    // Cập nhật lên GitHub
                    const success = await updateGamesToGitHub();
                    
                    if (success) {
                        // Cập nhật giao diện
                        loadGames();
                        updateRandomGames();
                        updateGameList();
                        
                        importArea.value = '';
                        importArea.style.display = 'none';
                        
                        showGitHubStatus('Đã import thành công ' + parsedGames.length + ' game!');
                    } else {
                        // Nếu lỗi, khôi phục lại dữ liệu
                        loadGamesFromGitHub();
                        alert('Có lỗi xảy ra khi import game. Vui lòng thử lại.');
                    }
                } else {
                    alert('Dữ liệu JSON không hợp lệ! Phải là một mảng.');
                }
            } catch (e) {
                alert('Lỗi khi parse JSON: ' + e.message);
            }
        }

        // Hàm xử lý tắt/bật hoạt ảnh
        function setupAnimationToggle() {
            const animationToggleBtn = document.getElementById('animationToggleBtn');
            const animationsDisabled = localStorage.getItem('animationsDisabled') === 'true';
            
            if (animationsDisabled) {
                document.body.classList.add('no-animations');
                animationToggleBtn.innerHTML = '<i class="fas fa-play"></i> Bật hoạt ảnh';
            }
            
            animationToggleBtn.addEventListener('click', function() {
                document.body.classList.toggle('no-animations');
                const isDisabled = document.body.classList.contains('no-animations');
                
                if (isDisabled) {
                    animationToggleBtn.innerHTML = '<i class="fas fa-play"></i> Bật hoạt ảnh';
                    localStorage.setItem('animationsDisabled', 'true');
                } else {
                    animationToggleBtn.innerHTML = '<i class="fas fa-running"></i> Tắt hoạt ảnh';
                    localStorage.setItem('animationsDisabled', 'false');
                }
            });
        }

        // ===== TRÌNH PHÁT NHẠC =====
        function setupMusicPlayer() {
            const musicToggleBtn = document.getElementById('musicToggleBtn');
            const musicPlayer = document.getElementById('musicPlayer');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            const progress = document.getElementById('progress');
            const progressContainer = document.getElementById('progressContainer');
            const volumeSlider = document.getElementById('volumeSlider');
            
            // Tải danh sách nhạc
            loadMusicFromJSON();
            
            // Thiết lập sự kiện cho nút hiện/ẩn trình phát nhạc
            musicToggleBtn.addEventListener('click', function() {
                musicPlayer.classList.toggle('active');
                if (musicPlayer.classList.contains('active')) {
                    musicToggleBtn.innerHTML = '<i class="fas fa-times"></i> Ẩn trình phát nhạc';
                } else {
                    musicToggleBtn.innerHTML = '<i class="fas fa-music"></i> Hiện trình phát nhạc';
                }
            });
            
            // Thiết lập sự kiện cho nút play/pause
            playPauseBtn.addEventListener('click', togglePlayPause);
            
            // Thiết lập sự kiện cho thanh tiến trình
            progressContainer.addEventListener('click', setProgress);
            
            // Thiết lập sự kiện cho thanh âm lượng
            volumeSlider.addEventListener('input', function() {
                audioPlayer.volume = this.value;
            });
            
            // Thiết lập sự kiện khi bài hát kết thúc
            audioPlayer.addEventListener('ended', playNext);
            
            // Thiết lập sự kiện cập nhật thời gian
            audioPlayer.addEventListener('timeupdate', updateProgress);
            
            // Thiết lập sự kiện khi metadata được tải
            audioPlayer.addEventListener('loadedmetadata', function() {
                document.getElementById('duration').textContent = formatTime(audioPlayer.duration);
            });
        }
        
        function renderPlaylist() {
            const playlistContainer = document.getElementById('playlistContainer');
            playlistContainer.innerHTML = '';
            
            songs.forEach((song, index) => {
                const playlistItem = document.createElement('div');
                playlistItem.className = 'playlist-item';
                if (index === currentSongIndex) {
                    playlistItem.classList.add('active');
                }
                playlistItem.innerHTML = `
                    <div class="playlist-item-index">${index + 1}</div>
                    <div class="playlist-item-title">${song.title}</div>
                `;
                playlistItem.addEventListener('click', function() {
                    currentSongIndex = index;
                    loadSong(currentSongIndex);
                    playSong();
                    updatePlaylistHighlight();
                });
                playlistContainer.appendChild(playlistItem);
            });
        }
        
        function updatePlaylistHighlight() {
            const playlistItems = document.querySelectorAll('.playlist-item');
            playlistItems.forEach((item, index) => {
                if (index === currentSongIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        function loadSong(index) {
            if (songs.length === 0) return;
            
            audioPlayer.src = songs[index].src;
            document.getElementById('currentSong').textContent = songs[index].title;
            updatePlaylistHighlight();
            
            // Reset progress bar
            progress.style.width = '0%';
            document.getElementById('currentTime').textContent = '0:00';
            document.getElementById('duration').textContent = '0:00';
        }
        
        function playSong() {
            if (songs.length === 0) return;
            
            isPlaying = true;
            audioPlayer.play();
            document.getElementById('playPauseIcon').classList.remove('fa-play');
            document.getElementById('playPauseIcon').classList.add('fa-pause');
        }
        
        function pauseSong() {
            isPlaying = false;
            audioPlayer.pause();
            document.getElementById('playPauseIcon').classList.remove('fa-pause');
            document.getElementById('playPauseIcon').classList.add('fa-play');
        }
        
        function togglePlayPause() {
            if (songs.length === 0) return;
            
            if (isPlaying) {
                pauseSong();
            } else {
                playSong();
            }
        }
        
        function playNext() {
            if (songs.length === 0) return;
            
            currentSongIndex++;
            if (currentSongIndex >= songs.length) {
                currentSongIndex = 0;
            }
            loadSong(currentSongIndex);
            playSong();
        }
        
        function playPrevious() {
            if (songs.length === 0) return;
            
            currentSongIndex--;
            if (currentSongIndex < 0) {
                currentSongIndex = songs.length - 1;
            }
            loadSong(currentSongIndex);
            playSong();
        }
        
        function updateProgress() {
            const { currentTime, duration } = audioPlayer;
            const progressPercent = (currentTime / duration) * 100;
            progress.style.width = `${progressPercent}%`;
            document.getElementById('currentTime').textContent = formatTime(currentTime);
        }
        
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickX / width) * duration;
        }
        
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            
            let minutes = Math.floor(seconds / 60);
            let secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // ===== CHỨC NĂNG TÌM KIẾM =====
        function setupSearch() {
            const searchBtn = document.getElementById('searchBtn');
            const searchContainer = document.getElementById('searchContainer');
            const closeSearch = document.getElementById('closeSearch');
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            
            // Mở tìm kiếm
            searchBtn.addEventListener('click', () => {
                searchContainer.classList.add('active');
                searchInput.focus();
            });
            
            // Đóng tìm kiếm
            closeSearch.addEventListener('click', () => {
                searchContainer.classList.remove('active');
                searchInput.value = '';
                searchResults.classList.remove('active');
                searchResults.innerHTML = '';
                
                // Bỏ highlight nếu có
                if (currentHighlightedGame) {
                    currentHighlightedGame.classList.remove('highlighted');
                    currentHighlightedGame = null;
                }
            });
            
            // Tìm kiếm khi nhập
            searchInput.addEventListener('input', () => {
                const query = searchInput.value.toLowerCase().trim();
                
                if (query.length === 0) {
                    searchResults.classList.remove('active');
                    searchResults.innerHTML = '';
                    return;
                }
                
                // Lọc kết quả
                const filteredGames = allGames.filter(game => 
                    game.name.toLowerCase().includes(query)
                );
                
                // Hiển thị kết quả
                if (filteredGames.length > 0) {
                    searchResults.innerHTML = '';
                    filteredGames.forEach((game, index) => {
                        const resultItem = document.createElement('div');
                        resultItem.className = 'search-result-item';
                        resultItem.textContent = game.name;
                        resultItem.addEventListener('click', () => {
                            // Chuyển sang tab Liên Kết
                            showSection('lienket');
                            
                            // Tìm và highlight game được chọn
                            setTimeout(() => {
                                const gameIndex = allGames.findIndex(g => g.name === game.name);
                                if (gameIndex !== -1) {
                                    const gameElement = document.getElementById(`game-${gameIndex}`);
                                    if (gameElement) {
                                        // Bỏ highlight cũ
                                        if (currentHighlightedGame) {
                                            currentHighlightedGame.classList.remove('highlighted');
                                        }
                                        
                                        // Highlight game mới
                                        gameElement.classList.add('highlighted');
                                        currentHighlightedGame = gameElement;
                                        
                                        // Cuộn đến game
                                        gameElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                        
                                        // Đóng tìm kiếm
                                        searchContainer.classList.remove('active');
                                        searchInput.value = '';
                                        searchResults.classList.remove('active');
                                        searchResults.innerHTML = '';
                                        
                                        // Tự động bỏ highlight sau 5 giây
                                        setTimeout(() => {
                                            if (currentHighlightedGame) {
                                                currentHighlightedGame.classList.remove('highlighted');
                                                currentHighlightedGame = null;
                                            }
                                        }, 5000);
                                    }
                                }
                            }, 100);
                        });
                        searchResults.appendChild(resultItem);
                    });
                    searchResults.classList.add('active');
                } else {
                    searchResults.innerHTML = '<div class="search-result-item">Không tìm thấy kết quả</div>';
                    searchResults.classList.add('active');
                }
            });
            
            // Đóng tìm kiếm khi nhấn ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && searchContainer.classList.contains('active')) {
                    searchContainer.classList.remove('active');
                    searchInput.value = '';
                    searchResults.classList.remove('active');
                    searchResults.innerHTML = '';
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Tải dữ liệu từ GitHub API
            loadGamesFromGitHub();
            setupThemeToggle();
            preventZoom();
            setupTickerBanner();
            setupAnimationToggle(); // Thiết lập nút tắt hoạt ảnh
            setupMusicPlayer(); // Thiết lập trình phát nhạc
            setupSearch(); // Thiết lập chức năng tìm kiếm
            
            // Thiết lập interval để cập nhật game ngẫu nhiên mỗi 2 giờ
            randomGamesInterval = setInterval(updateRandomGames, 2 * 60 * 60 * 1000); // 2 giờ
        });
    </script>
</body>
</html>